<style>
    .rate {
        float: left;
        height: 46px;
        padding: 0 10px;
    }

    .rate:not(:checked)>input {
        position: absolute;
        top: -9999px;
    }

    .rate:not(:checked)>label {
        float: right;
        width: 1em;
        overflow: hidden;
        white-space: nowrap;
        cursor: pointer;
        font-size: 30px;
        color: #ccc;
    }

    .rate:not(:checked)>label:before {
        content: 'â˜… ';
    }

    .rate>input:checked~label {
        color: #ffc700;
    }

    .rate:not(:checked)>label:hover,
    .rate:not(:checked)>label:hover~label {
        color: #deb217;
    }

    .rate>input:checked+label:hover,
    .rate>input:checked+label:hover~label,
    .rate>input:checked~label:hover,
    .rate>input:checked~label:hover~label,
    .rate>label:hover~input:checked~label {
        color: #c59b08;
    }
</style>

<section class="photo-line-section">

    <div class="owl-wrapper">
        <div class="owl-carousel" data-num="5">

            <div class="item">
                <div class="news-post image-post4">
                    <img src="/upload/news-posts/1.jpg" alt="">
                    <a class="category-post" href="design-category.html">Interiors</a>
                    <div class="hover-box">
                        <h2><a href="single-post.html">Quisque volutpat mattis eros. Nullam malesuada erat ut turpis.
                            </a></h2>
                        <ul class="post-tags">
                            <li><i class="fa fa-clock-o"></i>27 may 2013</li>
                            <li><a href="#"><i class="fa fa-comments-o"></i><span>23</span></a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="item">
                <div class="news-post image-post4">
                    <img src="/upload/news-posts/2.jpg" alt="">
                    <a class="category-post" href="design-category.html">Art</a>
                    <div class="hover-box">
                        <h2><a href="single-post.html">Suspendisse urna nibh, viverra non, semper suscipit, posuere a,
                                pede.</a></h2>
                        <ul class="post-tags">
                            <li><i class="fa fa-clock-o"></i>27 may 2013</li>
                            <li><a href="#"><i class="fa fa-comments-o"></i><span>23</span></a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="item">
                <div class="news-post image-post4">
                    <img src="/upload/news-posts/3.jpg" alt="">
                    <a class="category-post" href="design-category.html">Design</a>
                    <div class="hover-box">
                        <h2><a href="single-post.html">Donec nec justo eget felis facilisis fermentum. </a></h2>
                        <ul class="post-tags">
                            <li><i class="fa fa-clock-o"></i>27 may 2013</li>
                            <li><a href="#"><i class="fa fa-comments-o"></i><span>23</span></a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="item">
                <div class="news-post image-post4">
                    <img src="/upload/news-posts/4.jpg" alt="">
                    <a class="category-post" href="design-category.html">Design</a>
                    <div class="hover-box">
                        <h2><a href="single-post.html">Aenean dignissim pellentesque felis.</a></h2>
                        <ul class="post-tags">
                            <li><i class="fa fa-clock-o"></i>27 may 2013</li>
                            <li><a href="#"><i class="fa fa-comments-o"></i><span>23</span></a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="item">
                <div class="news-post image-post4">
                    <img src="/upload/news-posts/5.jpg" alt="">
                    <a class="category-post" href="design-category.html">Photography</a>
                    <div class="hover-box">
                        <h2><a href="single-post.html">Quisque volutpat mattis eros. Nullam malesuada erat ut turpis.
                            </a></h2>
                        <ul class="post-tags">
                            <li><i class="fa fa-clock-o"></i>27 may 2013</li>
                            <li><a href="#"><i class="fa fa-comments-o"></i><span>23</span></a></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="item">
                <div class="news-post image-post4">
                    <img src="/upload/news-posts/1.jpg" alt="">
                    <a class="category-post" href="design-category.html">Interiors</a>
                    <div class="hover-box">
                        <h2><a href="single-post.html">Pellentesque odio nisi, euismod in, pharetra a, ultricies in,
                                diam. Sed arcu. Cras consequat.</a></h2>
                        <ul class="post-tags">
                            <li><i class="fa fa-clock-o"></i>27 may 2013</li>
                            <li><a href="#"><i class="fa fa-comments-o"></i><span>23</span></a></li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- End photo-line-section -->

<!-- single-post-wide-slider
    ================================================== -->
<section class="single-wide">
    <div class="image-slider">
        <ul class="bxslider">
            <li>
                <div class="news-post image-post">
                    <img src="/upload/news-posts/single-wide2.jpg" alt="">
                    <div class="hover-box">
                        <div class="inner-hover">
                            <div class="container-fluid">
                                <h1 id="title_name_2"></h1>
                                <ul class="post-tags">
                                    <li id="newsDate"></li>
                                    <li id="newsAuthor"></li>
                                    <li id="newsRating"></li>
                                    <li id="newsViews"></li>
                                </ul>

                                <div>
                                    <div class="rate">
                                        <input onclick="ratingClick(5)" type="radio" id="star5" name="rate" value="5" />
                                        <label for="star5" title="text">5 stars</label>
                                        <input onclick="ratingClick(4)" type="radio" id="star4" name="rate" value="4" />
                                        <label for="star4" title="text">4 stars</label>
                                        <input onclick="ratingClick(3)" type="radio" id="star3" name="rate" value="3" />
                                        <label for="star3" title="text">3 stars</label>
                                        <input onclick="ratingClick(2)" type="radio" id="star2" name="rate" value="2" />
                                        <label for="star2" title="text">2 stars</label>
                                        <input onclick="ratingClick(1)" type="radio" id="star1" name="rate" value="1" />
                                        <label for="star1" title="text">1 star</label>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </li>

        </ul>
    </div>
</section>
<!-- End single-post-wide-slider -->

<!-- block-wrapper-section
    ================================================== -->
<section class="block-wrapper">


    <!-- End small sidebar -->


    <!-- block content -->
    <div class="block-content">

        <div class="container-fluid">

            <!-- single-post box -->
            <div class="single-post-box wide-version">

                <div class="share-post-box">
                    <ul class="share-box">
                        <li><i class="fa fa-share-alt"></i><span> Share Post</span></li>
                        <li><a class="facebook" id="Telegram" href="#"><span>Telegram </span></a></li>
                        <li><a class="facebook" id="Instagram" href="#"><span>Instagram </span></a></li>
                        <li><a class="facebook" id="Facebook" href="#"><span>Facebook </span></a></li>

                    </ul>
                </div>


                <div class="article-inpost">
                    <div class="row">
                        <div class="col-md-5">
                            <div class="image-content">
                                <div class="image-place">
                                    <img id="news_element_image" src="/upload/news-posts/single-art.jpg" alt="">
                                    <div class="hover-image">
                                        <a id="news_element_image_zoom" class="zoom"
                                            href="/upload/news-posts/single-art.jpg"><i
                                                class="fa fa-arrows-alt"></i></a>
                                    </div>
                                </div>
                                <span class="image-caption">Cras eget sem nec dui volutpat ultrices.</span>
                            </div>
                        </div>
                        <div class="col-md-7">
                            <div class="text-content">
                                <h2 id="title_name"></h2>
                                <p id="descriptionName"></p>

                            </div>
                        </div>
                    </div>
                </div>

                <div class="post-content">

                    <blockquote>
                        <p id="sitata"> </p>
                    </blockquote>


                </div>





                <div class="post-tags-box">
                    <ul class="tags-box getTags">
                    </ul>
                </div>






                <!-- contact form box -->
                <div class="contact-form-box" style="margin-bottom: 10px">
                    <div class="title-section">
                        <h1><span>Koment qoldiring </span> <span class="email-not-published">Your email address will not
                                be published.</span></h1>
                    </div>
                    <form id="comment-form">
                        <div class="row">
                            <div class="col-md-12">
                                <label for="name">Userame*</label>
                                <input id="username" name="name" type="text">
                            </div>

                        </div>
                        <label for="comment">Message*</label>
                        <textarea id="username_comment" name="comment"></textarea>
                        <button type="button" onclick="sendComment()" id="submit-contact">
                            Post Comment
                        </button>
                    </form>
                </div>

                <!-- komentlar listi -->
                <div class="card GET_ALL_FILTERED_COMMENT">
                   
                </div>

            </div>
        </div>

    </div>

</section>
<script src="/jquery.min.js"></script>
<script src="/axios.min.js"></script>


<script>

    // Yangilikni malumotlarini olish

    const result = window.location.pathname
    const id = result.slice(8)
    axios.get(`/news/${id}`).then(async (result) => {


        const DATA = result.data.data // {}


        document.getElementById("title_name").innerHTML = DATA.name.uz
        document.getElementById("title_name_2").innerHTML = DATA.name.uz
        document.getElementById("descriptionName").innerHTML = DATA.description.uz
        document.getElementById("sitata").innerHTML = DATA.sitata.uz
        document.getElementById("Telegram").href = DATA.link.telegram
        document.getElementById("Instagram").href = DATA.link.facebook
        document.getElementById("Facebook").href = DATA.link.instagram

        document.getElementById("newsDate").innerHTML = `<i class="fa fa-clock-o"></i>${new Date(DATA.createdAt).toLocaleString()}`
        document.getElementById("newsAuthor").innerHTML = `<i class="fa fa-user"></i>by <a href="#">${DATA.author_name}</a>`
        document.getElementById("newsRating").innerHTML = `<a href="#">Rayting <span>${DATA.rating}</span></a>`
        document.getElementById("newsViews").innerHTML = `<i class="fa fa-eye"></i>${DATA.view}`



        document.getElementById("news_element_image").src = `/news/${DATA.images[0]}`
        document.getElementById("news_element_image_zoom").href = `/news/${DATA.images[0]}`

        const TAG = DATA.tag_ID // []
        const tags = $(".getTags");
        await tags.html("");
        tags.append(`<li><i class="fa fa-tags"></i><span>Tags:</span></li>`);
        TAG.forEach((item, index, array) => {
            tags.append(`
                <li><a href="#">${item.name.uz}</a></li> 
            `);

        });



    })




    // Rating baho qoyish
    function ratingClick(number) {
        axios.post('/rating/create', {
            rating: number,
            news: id
        }).then((res) => {
            window.location.reload()
        })
    }



    // Koment qoldirish
    function sendComment() {
        const username = document.getElementById('username').value
        const username_comment = document.getElementById('username_comment').value

        if (
            username == "" ||
            username_comment == ""
        ) {
            alert("KOment kirgaz")
        } else {
            axios.post('/comment/create', {
                username: username,
                message: username_comment,
                news_ID: id
            }).then((res) => {
                window.location.reload()
            })
        }

    }



    // Yagona yangilikning ID si boyicha amma komentlarni olish



    axios.get(`/comment/filter/${id}`).then(async (res) => {
        const DATA = res.data // [{}, {}, {}]

        const comment = $(".GET_ALL_FILTERED_COMMENT");
        await comment.html("");
     
        DATA.forEach((item, index, array) => {
            comment.append(`
                     <div class="card-body bg-warning " style="padding: 10px; margin-bottom: 10px;">
                        <h5 style="font-weight: 900;">${item.username}: </h5>
                        <p>${item.message}.</p>
                    </div>
            `);

        });

    })
</script>